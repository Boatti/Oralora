function loadAPIPls(e){"undefined"==typeof YT||void 0===YT.Player?(loadYouTubeAPI(),window.onYouTubeIframeAPIReady=function(){createYouTubePlayer(e)}):createYouTubePlayer(e)}function loadYouTubeAPI(){var e=document.createElement("script"),t=(e.src="https://www.youtube.com/iframe_api",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}function createYouTubePlayer(t){var e,o,n,a;null==document.querySelector("iframe#player")?player=new YT.Player("player",{height:"360",width:"640",videoId:t,playerVars:{autoplay:0,controls:0,disablekb:1,enablejsapi:1,cc_load_policy:0,cc_lang_pref:"en",iv_load_policy:0,modestbranding:1,showinfo:0},events:{onReady:function(e){onPlayerReady(player,e,t)}}}):(indexWord=0,indexObject=0,indexLetter=endOffset=startOffset=0,score=0,cara="",input.value="",output.innerHTML="",input.disabled=!1,e=document.getElementById("guessButton"),o=document.getElementById("repeat"),n=document.getElementById("replay"),a=document.getElementById("play"),e.onclick||(e.onclick=guessButton),o.onclick||(o.onclick=repeatAWord),n.onclick||(n.onclick=replayVideo),a.onclick||(a.onclick=toggleVideo),onPlayerReady(player,null,t))}function onPlayerReady(o,e,n){[startO,endO]=getOffset();var t=millisToSeconds(clean[startO].offset),a=millisToSeconds(clean[endO].offset);e?(e.target.loadVideoById({videoId:n,startSeconds:t,endSeconds:a}),e.target.setVolume(60),e.target.playVideo()):o.loadVideoById({videoId:n,startSeconds:t,endSeconds:a}),o.addEventListener("onStateChange",function(e){var t;e.data==YT.PlayerState.ENDED&&(e=millisToSeconds(clean[startOffset].offset),t=null!=endOffset?millisToSeconds(clean[endOffset].offset):endOffset,o.loadVideoById({videoId:n,startSeconds:e,endSeconds:t}),document.getElementById("play"),errorSpace=!0,o.pauseVideo(),setTimeout(()=>{o.playVideo(),errorSpace=!1},1500))})}var startOffset,count=0,endOffset=0,countLoop=0,errorSpace=!1;function getOffset(){startOffset=endOffset,countLoop=0;try{if(15<clean[startOffset].text.split(" ").length)return[startOffset,endOffset+=countLoop=1];for(i=endOffset;i<clean.length;i++){if(15<(count+=clean[i].text.split(" ").length))return count=0,endOffset=i,[startOffset,endOffset];if(i==clean.length-1)return[startOffset,endOffset=null];countLoop++}}catch(e){console.log(e)}}function changeAll(e,t,o){t=millisToSeconds(clean[t].offset),o=null!=o?millisToSeconds(clean[o].offset):o;player.loadVideoById({videoId:e,startSeconds:t,endSeconds:o}),setTimeout(()=>{player.playVideo()},100)}function repeatAWord(){var e,t,o;0==errorSpace&&(e=player.getCurrentTime(),t=parseFloat(millisToSeconds(clean[startOffset].offset)),o=document.getElementById("play"),e<=t+1.5?player.seekTo(t):player.seekTo(e-1.5),2==player.getPlayerState()&&o.setAttribute("src","/assets/Img/pauseButton2.png"),playVideo())}function replayVideo(){var e,t;0==errorSpace&&(e=clean[startOffset].offset,e=millisToSeconds(e),t=document.getElementById("play"),player.seekTo(e),2==player.getPlayerState()&&t.setAttribute("src","/assets/Img/pauseButton2.png"),playVideo())}function toggleVideo(){var e;0==errorSpace&&(e=document.getElementById("play"),1==player.getPlayerState()?(pauseVideo(),e.setAttribute("src","/assets/Img/playButton2.png")):(playVideo(),e.setAttribute("src","/assets/Img/pauseButton2.png")))}function playVideo(){player.playVideo()}function pauseVideo(){player.pauseVideo()}function stopVideo(){player.stopVideo()}